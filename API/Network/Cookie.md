Cookie (англ. «печенье») — это небольшие текстовые файлы с информацией о пользователе, которые хранятся на его устройстве. Они позволяют сайту узнавать пользователя и настраивать под него сессию. Например, когда вам не требуется заново вводить логин и пароль учетной записи, это значит, что с помощью cookie сайт запомнил ваш браузер и устройство. В cookie-файлах также может храниться информация о цветовой теме сайта или регионе для отображения погоды, статистика активности и многое другое.
## Принцип работы

Cookie работают по принципу билета: сам по себе он бесполезен, но если предъявить его контролеру, то он пустит вас на ваше место. Так же в общем случае и с сайтами: они получают ваши cookie и позволяют вам войти в свой аккаунт. Происходит это следующим образом:

1. Браузер нового посетителя сайта делает запрос на сервер.
2. Сайт передает браузеру файлы cookie с данными для идентификации.
3. При повторном входе на сайт браузер отправляет ему полученные cookie.
4. Сайт персонализирует страницу с учетом полученных данных и отправляет ответ браузеру.

Пример простого файла cookie, содержащего тему оформления пользователя, токен сессии и срок его действия:
```
HTTP/1.0 200 OK
Content-type: text/ html
Set-Cookie: theme=dark
Set-Cookie: sessionToken= abc123; Expires= Ср., 15 августа 2024 г. 12:19:26 GMT
```

## Функции cookie

Подробнее рассмотрим основные задачи, которые решают cookie:

1. **Управление сессиями**.
    
    Чаще всего cookie используются для управления сессиями — передают статус аутентификации пользователя, содержимое корзины покупок, прогресс в браузерных играх и другое. Даже если вы не аутентифицируетесь, сайт все равно может запомнить ваши действия в рамках сессии.
2. **Персонализация**.
    Если сайт не хранит информацию о настройках пользователя в своей базе данных, он может хранить ее в cookie-файлах. Пользователь совершает какие-то действия по персонализации сайта под свои нужды, в то время как сервер кодирует их в файл, а затем отправляет в браузер в форме cookie.
    
    Это могут быть настройки оформления, регион для поиска товаров или новостных материалов, язык страницы, поисковые запросы и так далее. Например, поисковая система Google раньше позволяла пользователям выбирать отображаемое количество результатов при запросе и хранила эти настройки в форме cookie.
3. **Отслеживание**.    
    Cookie с этой функцией следят за привычками пользователей. Например, записывают товары, которые ему нравятся, чтобы потом показать релевантную рекламу. Как это работает:
    
    - Пользователь впервые посещает сайт.
    - Сайт присваивает ему уникальный идентификатор и отправляет его в форме cookie.
    - С этого момента сайт хранит данные о всех посещенных пользователях страницах на этом сайте.
    - Анализируя данные о посещениях, можно составить список предпочтений пользователя.
    Некоторые компании устанавливают такие cookie на сторонние сайты с помощью рекламных баннеров. Они могут использовать полученные данные для рекламы, сбора статистики для улучшения своих товаров, а также продавать их третьим лицам.

## Типы cookie

Cookie отличаются по времени хранения, области действия и назначению:

- **Сессионные** — хранятся во временной памяти и удаляются после закрытия браузера. Они содержат такие данные, как предыдущие посещенные страницы, чтобы можно было вернуться на них, нажав кнопку «Назад».
    
- **Постоянные** — срок хранения зависит от настроек сайта и браузера. К ним относятся данные для авторизации, товары в корзинах интернет-магазинов и многое другое.
    
- **Сторонние** — загружаются с тех сайтов, которые встраивают на свои страницы контент с других доменов. Например, рекламные баннеры. С помощью них рекламодатели делают персонализированную рекламу. Большинство современных браузеров позволяют отключать сторонние cookie.
    
- **Super-cookie** — опасный вид cookie, который действует на [домены верхнего уровня](https://yandex.cloud/ru/docs/glossary/fqdn#tld) (например, `.ru`). То есть если вы получили их на сайте `example-1.ru`, то они будут действовать и на `example-2.ru`. Это позволяет злоумышленникам выдавать себя за другого пользователя. Обычно браузеры блокируют такие cookie.
    
- **Зомби-cookie** — cookie, у которых есть механизмы защиты от удаления. Они позволяют компаниям следить за статистикой пользователей, даже если они регулярно чистят cookie. Это нарушает конфиденциальность пользователя и может послужить поводом для судебного разбирательства.
--------------------------------------------------------------------------
# [Информация взята с сайта Yandex_cloud](https://yandex.cloud/ru/docs/glossary/)
